<ion-list>
  <ion-list-header>
    <ion-button class="ml-auto" (click)=" showSearch = !showSearch ">
      <ion-icon slot="start" name="search"></ion-icon>
      Search
    </ion-button>
  </ion-list-header>
  <ng-container *ngIf="showSearch">
    <ion-item>
      <ion-label>{{ philgo.t({ en: 'Gender', ko: '성별' }) }}</ion-label>
      <ion-select placeholder="{{ philgo.t({ en: 'Gender', ko: '성별' }) }}" [(ngModel)]="form[N.gender]">
        <ion-select-option value="F">{{ philgo.t({ en: 'Female', ko: '여자' }) }}</ion-select-option>
        <ion-select-option value="M">{{ philgo.t({ en: 'Male', ko: '남자' }) }}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label>{{ philgo.t({ en: 'Province', ko: '주' }) }}</ion-label>
      <ion-select placeholder="{{ philgo.t({ en: 'Province', ko: '주' }) }}" [(ngModel)]=" province "
                  (ionChange)="onClickProvince()">
        <ion-select-option *ngFor=" let province of provinces" [value]="province">{{province}}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item *ngIf=" showCities ">
      <ion-label>{{ philgo.t({ en: 'City', ko: '도시' }) }}</ion-label>
      <ion-select placeholder="{{ philgo.t({ en: 'City', ko: '도시' }) }}" [(ngModel)]=" city ">
        <ion-select-option *ngFor=" let key of cityKeys" [value]="key">{{cities[key]}}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>{{ philgo.t({ en: 'Experience', ko: '경력' }) }}</ion-label>
      <ion-select placeholder="{{ philgo.t({ en: 'Experience', ko: '경력' }) }}" [(ngModel)]="form[N.experience]">
        <ion-select-option *ngFor=" let y of _.makeArrayNumber(30, 1)" value="{{ y }}">{{y}}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>{{ philgo.t({ en: 'Age', ko: '나이' }) }}</ion-label>
      <ion-select placeholder="{{ philgo.t({ en: 'Age', ko: '나이' }) }}" [(ngModel)]=" year ">
        <ion-select-option *ngFor=" let m of _.makeArrayNumber(50, 1)" value="{{ m }}">{{ m }}</ion-select-option>
      </ion-select>
    </ion-item>
  
  </ng-container>
</ion-list>

<ion-button (click)="onSearch()">Submit</ion-button>

<app-job-view *ngIf=" postView?.idx "
              [post]=" postView "
              [autoViewContent]="true"
              (onView)=" onView( $event ) "
              (onEdit)=" onEdit( $event ) "
              (onDelete)=" onDelete( $event ) "
></app-job-view>

<ng-container *ngFor="let post of posts">
  <app-job-view [post]=" post "
                (onView)=" onView( $event ) "
                (onEdit)=" onEdit( $event ) "
                (onDelete)=" onDelete( $event ) "
  ></app-job-view>
</ng-container>

<div class="text-center py-5 text-muted" *ngIf=" noMorePosts ">
  {{ philgo.t({ en: 'There is no more posts.', ko: '더 이상 글이 없습니다.' })}}
</div>

<ion-infinite-scroll class="mt-3" (ionInfinite)="loadPage($event)">
  <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data...">
  </ion-infinite-scroll-content>
</ion-infinite-scroll>